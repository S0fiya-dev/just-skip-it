# Just Skip It!

**Just Skip It!** — это инструмент, разработанный для автоматического пропуска определённых сегментов видео, воспроизводимых с помощью медиаплеера VLC. Он идеально подходит для пропуска любого нежелательного контента при просмотре ваших видео.

---

## Возможности

* Интерфейс с поддержкой Drag and Drop для лёгкого выбора видео
* Автоматическое обнаружение и проверка конфигурационных файлов 
* Автоматический пропуск заранее определённых сегментов видео
* Настраиваемые параметры пропуска через конфигурационные файлы в формате JSON 

---

## Требования

* ОС: Windows(?)  
* Python версии 3.6 и выше
* VLC Media Player
* Необходимые Python-пакеты:
    
    * `tkinterdnd2`
    * `pillow`
        
---

## Установка

1. Клонируйте или скачайте репозиторий
2. Установите необходимые пакеты:
    
    ```bash
    pip install -r requirements.txt
    ```
3. Настройте файл `config.ini`, указав путь к установленному VLC
    
---

## Конфигурация

### Настройка VLC (`config.ini`)

Отредактируйте файл `config.ini`, чтобы указать путь к VLC и параметры интерфейса удалённого управления:

```ini
[VLC]
executable_path = C:\apps\VLC\vlc.exe
rc_host = localhost
rc_port = 4212
rc_password =

[TIMEOUTS]
rc_check_interval = 1
rc_connection_timeout = 60
```

Пояснения к параметрам:

* `executable_path`: Полный путь к исполняемому файлу VLC
* `rc_host`: Хост для интерфейса удалённого управления VLC 
* `rc_port`: Порт для интерфейса удалённого управления VLC (по умолчанию 4212) 
* `rc_password`: Пароль для интерфейса удалённого управления VLC (оставьте пустым, если пароля нет)
* `rc_check_interval`: Как часто утилита проверяет состояние VLC (в секундах)
* `rc_connection_timeout`: Максимальное время ожидания подключения к VLC (в секундах)
    
---

### Конфигурация пропуска видео (JSON-файлы)

Для каждого видео, которое вы хотите использовать с **Just Skip It!**, создайте конфигурационный файл в формате JSON с тем же именем, что и у видеофайла, но с расширением `.json`.  
**Важно:** JSON-файл должен находиться в той же папке, что и видеофайл.

Например:

* Видео: `/videos/movie.mp4`
* JSON: `/videos/movie.json`
    
Структура JSON должна быть следующей:

```json
{
  "version": "1.0",
  "video_info": {
    "filename": "video_name.mp4",
    "duration": "01:30:45"
  },
  "time_segments": [
    {
      "id": 1,
      "name": "Пропустить вступление",
      "trigger_time": "00:01:30",
      "jump_to_time": "00:03:45",
      "enabled": true
    },
    {
      "id": 2,
      "name": "Пропустить титры",
      "trigger_time": "01:28:00",
      "jump_to_time": "01:29:50",
      "enabled": true
    }
  ],
  "settings": {
    "loop_segments": false,
    "show_notifications": true
  }
}
```

Пояснение структуры JSON:

* `version`: Версия формата конфигурации  
* `video_info`: Основная информация о видео
    * `filename`: Имя видеофайла
    * `duration`: Общая продолжительность видео в формате ЧЧ:ММ:СС 
* `time_segments`: Массив сегментов для пропуска
    * `id`: Уникальный идентификатор сегмента
    * `name`: Описание сегмента (например, «Пропустить вступление»)
    * `trigger_time`: Время активации пропуска (ЧЧ:ММ:СС)
    * `jump_to_time`: Время, куда нужно перейти (ЧЧ:ММ:СС)
    * `enabled`: Нужно ли пропускать этот сегмент (true/false)
* `settings`: Дополнительные настройки
    * `loop_segments`: Определяет, должны ли перемотки срабатывать повторно (пока не реализовано полностью)
    * `show_notifications`: Показывать уведомления во время пропуска (пока не реализовано полностью)
        
---

### Настройка VLC

Убедитесь, что в VLC включён интерфейс RC (Remote Control — удалённое управление):

1. В VLC откройте **Инструменты > Настройки** 
2. Внизу выберите **Показать настройки: Все**
3. Перейдите в **Интерфейс > Основные интерфейсы**
4. Отметьте галочку **Интерфейс удалённого управления**
5. Перейдите в **Интерфейс > Основные интерфейсы > RC**
6. Настройте хост и порт (по умолчанию: localhost:4212)

---

## Использование

1. Запустите утилиту:
    
    ```bash
    python main.py
    ```
2. Перетащите видеофайл в окно утилиты
3. Если найден действительный конфигурационный файл, нажмите «Запустить VLC»
4. Видео запустится в VLC с автоматическим пропуском сегментов
5. Появится небольшое окно управления, которое позволяет остановить утилиту

---

## Как это работает

1. При перетаскивании видео утилита ищет соответствующий JSON-файл в той же папке
2. Если файл найден, утилита проверяет его правильность
3. После запуска VLC утилита подключается к интерфейсу удалённого управления VLC
4. Она отслеживает время воспроизведения и автоматически пропускает заданные сегменты
5. Когда воспроизведение достигает времени активации, оно переходит к соответствующему времени пропуска

---

## Устранение неполадок

* Убедитесь, что VLC установлен правильно, и путь в `config.ini` указан верно
* Включите интерфейс удалённого управления VLC в настройках VLC
* Проверьте, что ваши JSON-файлы конфигурации верны и соответствуют ожидаемому формату
* Убедитесь, что имена видеофайла и JSON-файла совпадают (кроме расширения)
* Проверьте, что JSON-файл находится в той же папке, что и видеофайл

---

## Лицензия

Этот проект предоставляется «как есть» без каких-либо гарантий.